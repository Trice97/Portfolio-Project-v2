@startuml
title ğŸ‹ï¸ FITNESS CLASH - Cas d'usage 2 : Valider une sÃ©ance complÃ©tÃ©e âœ…

actor "ğŸ‘¤ Utilisateur" as User
participant "ğŸ–¥ï¸ Front-End" as Frontend
participant "âš™ï¸ Back-End" as Backend
participant "ğŸ—„ï¸ Database" as Database

User -> Frontend: ğŸ˜®â€ğŸ’¨ Termine la sÃ©ance (temps: 15 min = 900s)
User -> Frontend: ğŸ’¯ Clique "VALIDER MA SÃ‰ANCE !"

Frontend -> Backend: ğŸ“¡ POST /api/workouts/42/complete\n{"score": 900, "completed": true}
activate Backend

Backend -> Database: ğŸ”„ UPDATE workouts\nSET completed=TRUE, score=900, completed_at=NOW()\nWHERE id=42
activate Database
Database --> Backend: âœ… UPDATE successful
deactivate Database

Backend -> Database: ğŸ“Š SELECT COUNT(*) FROM workouts\nWHERE user_id=1 AND completed=TRUE
activate Database
Database --> Backend: ğŸ“ˆ Total: 47 sÃ©ances
deactivate Database

Backend --> Frontend: ğŸ“¦ JSON: {success: true, score: 900, total: 47}
deactivate Backend

Frontend --> User: ğŸ‰ "BRAVO ! SÃ©ance validÃ©e !"\nğŸ’ª Temps: 15 min | ğŸ”¥ 47 sÃ©ances au total

@enduml